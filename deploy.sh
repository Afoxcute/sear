#!/bin/bash

# Contract Deployment Script for Mantle Sepolia Testnet
# Make sure you have DEPLOYER_PRIVATE_KEY set in your environment or .env file

echo "ğŸš€ Deploying Sear contract to Mantle Sepolia Testnet..."
echo ""

# Check if DEPLOYER_PRIVATE_KEY is set
if [ -z "$DEPLOYER_PRIVATE_KEY" ]; then
    echo "âŒ Error: DEPLOYER_PRIVATE_KEY not set"
    echo "Please set it in your .env file or export it:"
    echo "  export DEPLOYER_PRIVATE_KEY=your_private_key_here"
    exit 1
fi

echo "âœ… Deployer private key found"
echo ""

# Deploy the contract
echo "ğŸ“¦ Deploying contract..."
npx hardhat ignition deploy ignition/modules/Sear.ts --network mantleTestnet

echo ""
echo "âœ… Deployment complete!"
echo ""
echo "ğŸ“ Next steps:"
echo "1. Copy the deployed contract address from the output above"
echo "2. Update app/src/deployed_addresses.json with the new address:"
echo "   \"SearModule#Sear\": \"NEW_ADDRESS_HERE\""
echo "3. Restart your backend and frontend"
echo ""
